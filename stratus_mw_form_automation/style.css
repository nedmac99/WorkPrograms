/* Hide standalone control buttons without affecting behavior */
#runPartsBtn,
#runSerialBtn,
#runPartsSerialBtn {
	display: none !important;
}

/* Hide Refresh Parts List button without changing logic */
#refreshPartsBtn {
	display: none !important;
}

/* Hide all collapsibles except the Parts panel */
details:not(#partsPanel) {
	display: none !important;
}

/* Ensure Parts panel is visible */
#partsPanel {
	display: block !important;
}
/* Modern UI theme */
:root {
	--bg: #1b2538;              /* lighter slate */
	--surface: #23324a;         /* softer surface */
	--card: #2b3a55;            /* mid card */
	--text: #f8fafc;            /* near-white */
	--muted: #d1d5db;           /* light muted */
	--primary: #3b82f6;         /* blue-500 */
	--primary-600: #2563eb;     /* blue-600 */
	--border: #3a4c66;          /* lighter border */
	--accent: #22c55e;          /* green-500 */
	--danger: #ef4444;          /* red-500 */
	--shadow: 0 8px 18px rgba(0,0,0,0.18), 0 2px 6px rgba(0,0,0,0.18);
	--radius: 12px;
}

html, body {
	background: radial-gradient(1200px 800px at 10% -10%, rgba(59,130,246,0.045), transparent),
							radial-gradient(1000px 700px at 110% -20%, rgba(34,197,94,0.035), transparent),
							var(--bg);
	color: var(--text);
	font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	padding: 14px 14px 16px 14px !important;
	min-width: 320px !important;
}

/* Light theme variables when forced */
[data-theme="light"] {
	--bg: #f8fafc;              /* slate-50 */
	--surface: #ffffff;         /* white */
	--card: #ffffff;
	--text: #0f172a;            /* slate-900 */
	--muted: #475569;           /* slate-600 */
	--primary: #2563eb;         /* blue-600 */
	--primary-600: #1d4ed8;     /* blue-700 */
	--border: #e5e7eb;          /* gray-200 */
	--accent: #16a34a;          /* green-600 */
	--danger: #dc2626;          /* red-600 */
	--shadow: 0 8px 20px rgba(15, 23, 42, 0.08), 0 2px 6px rgba(15, 23, 42, 0.06);
}

/* Respect system preference by default when no explicit data-theme is set */
@media (prefers-color-scheme: light) {
	:root:not([data-theme]) {
		--bg: #f8fafc;
		--surface: #ffffff;
		--card: #ffffff;
		--text: #0f172a;
		--muted: #475569;
		--primary: #2563eb;
		--primary-600: #1d4ed8;
		--border: #e5e7eb;
		--accent: #16a34a;
		--danger: #dc2626;
		--shadow: 0 8px 20px rgba(15, 23, 42, 0.08), 0 2px 6px rgba(15, 23, 42, 0.06);
	}
}

/* Card-like containers */
form, details#partsPanel {
	background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
	border: 1px solid var(--border);
	border-radius: var(--radius);
	box-shadow: var(--shadow);
	padding: 14px 14px 12px 14px;
}

/* Toolbar */
.toolbar {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 8px;
	margin: -4px 0 10px 0;
}
.brand {
	font-weight: 650;
	letter-spacing: 0.2px;
}
#themeToggle {
	background: linear-gradient(180deg, #6b7280, #4b5563);
	box-shadow: 0 4px 14px rgba(75,85,99,0.28);
	padding: 6px 10px;
}

h3, h4 {
	margin: 0 0 10px 0;
	font-weight: 650;
	letter-spacing: 0.2px;
}

.row { gap: 6px !important; margin-bottom: 10px !important; }
label { font-size: 12.5px !important; color: var(--muted) !important; }

input[type="text"],
input[type="number"],
select, textarea {
	background: var(--surface);
	color: var(--text);
	border: 1px solid var(--border);
	border-radius: 10px;
	padding: 9px 10px;
	font-size: 13px;
	outline: none;
	transition: border-color .15s ease, box-shadow .15s ease;
}
input:focus, select:focus, textarea:focus {
	border-color: var(--primary);
	box-shadow: 0 0 0 3px rgba(59,130,246,0.25);
}

/* Buttons */
button {
	appearance: none;
	border: 1px solid transparent;
	border-radius: 10px;
	padding: 8px 12px;
	font-size: 13px;
	color: white;
	background: linear-gradient(180deg, var(--primary), var(--primary-600));
	box-shadow: 0 4px 14px rgba(37,99,235,0.35);
	transition: transform .06s ease, box-shadow .12s ease, filter .12s ease;
}
button:hover { filter: brightness(1.06); box-shadow: 0 6px 18px rgba(37,99,235,0.42); }
button:active { transform: translateY(1px); }

/* Secondary buttons */
#saveValuesBtn, #savePartsSelectionsBtn {
	background: linear-gradient(180deg, #10b981, #059669);
	box-shadow: 0 4px 14px rgba(16,185,129,0.28);
}
#clearPartsSelectionsBtn, #hpClearSelectors {
	background: linear-gradient(180deg, #6b7280, #4b5563);
	box-shadow: 0 4px 14px rgba(75,85,99,0.28);
}

/* Status text */
#status, #selectorStatus, #partsStatus {
	font-size: 12.5px !important;
}

/* details/summary styling */
details {
	margin-top: 12px;
	border-radius: var(--radius);
}
details > summary {
	list-style: none;
	cursor: pointer;
	color: var(--text);
	font-weight: 600;
	padding: 10px 12px;
	margin: -10px -12px 8px -12px;
	border-bottom: 1px dashed var(--border);
}
details > summary::-webkit-details-marker { display: none; }
details > summary::after {
	content: 'â–¾';
	float: right;
	color: var(--muted);
	transition: transform .18s ease;
}
details[open] > summary::after { transform: rotate(180deg); }

/* Parts list checkboxes */
#partsCheckboxes label {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 6px 8px;
	background: rgba(255,255,255,0.02);
	border: 1px solid var(--border);
	border-radius: 8px;
}
#partsCheckboxes input[type="checkbox"] { accent-color: var(--accent); width: 16px; height: 16px; }

/* Hide standalone control buttons without affecting behavior */
#runPartsBtn,
#runSerialBtn,
#runPartsSerialBtn {
	display: none !important;
}

/* Hide all collapsibles except the Parts panel */
details:not(#partsPanel) {
	display: none !important;
}

/* Ensure Parts panel is visible */
#partsPanel {
	display: block !important;
}
